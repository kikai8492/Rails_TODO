<h1>管理画面のユーザー一覧画面</h1>
<table>
    <tr>
      <th>ユーザーid</th>
      <th>ユーザー名</th>
      <th>タスク数</th>
    </tr>
  <% @users.each do |user|%>
    <tr>
      <td><%= user.id %></td>
      <td><%= user.name %></td>
      <td><%= user.tasks.size%><td> <%#本当はcountを使いたかったが、それだとせっかくincludesをつけてもをつけてもn + 1問題は解決せずに、クエリが大量に発行される%>
        <%= link_to '詳細', admin_user_path(user.id) %>
        <%= link_to '編集', edit_admin_user_path(user.id) %>
        <%= link_to '削除', admin_user_path(user.id), method: :delete, data: { confirm: '削除しますか？' } %>
      </td>
    </tr>
  <% end %>
</table>